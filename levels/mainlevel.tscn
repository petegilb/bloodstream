[gd_scene load_steps=13 format=3 uid="uid://d3xnc4rwvnm06"]

[ext_resource type="PackedScene" uid="uid://bp5fbwdjy14n" path="res://prefabs/blood_river.tscn" id="1_cxcq7"]
[ext_resource type="Script" uid="uid://cyut0su3xehb5" path="res://scripts/spline_multimesh.gd" id="1_mlnnp"]
[ext_resource type="Script" uid="uid://cyf52vdh2xqnk" path="res://scripts/main.gd" id="1_natwr"]
[ext_resource type="PackedScene" uid="uid://dodflpxwoog8b" path="res://prefabs/boat_character.tscn" id="2_cxcq7"]
[ext_resource type="ArrayMesh" uid="uid://d3es4r2knt7hc" path="res://models/tubepath_TubePath.res" id="3_lh2t4"]
[ext_resource type="PackedScene" uid="uid://4pn1n18e51hx" path="res://prefabs/csg_tube.tscn" id="3_p5hok"]
[ext_resource type="PackedScene" uid="uid://cl163faksk3wu" path="res://prefabs/heart_atrium_1.tscn" id="5_054ed"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_cxcq7"]
sky_top_color = Color(0.989204, 0.696157, 0.689012, 1)
sky_horizon_color = Color(0.74, 0.296, 0.3182, 1)
ground_bottom_color = Color(0.331113, 0.0590892, 0.0392149, 1)
ground_horizon_color = Color(0.381562, 0.139504, 0.0772037, 1)
energy_multiplier = 0.8

[sub_resource type="Sky" id="Sky_mlnnp"]
sky_material = SubResource("ProceduralSkyMaterial_cxcq7")

[sub_resource type="Environment" id="Environment_lh2t4"]
background_mode = 2
background_energy_multiplier = 2.58
sky = SubResource("Sky_mlnnp")
fog_enabled = true
fog_light_color = Color(0.38, 0.130213, 0.1216, 1)
fog_sky_affect = 0.57

[sub_resource type="Curve3D" id="Curve3D_a8rn8"]
_data = {
"points": PackedVector3Array(29.3757, -33.4626, -53.4267, -29.3757, 33.4626, 53.4267, 29.7511, -35.1273, -47.7252, 12.4839, 5.52884, -29.4481, -12.4839, -5.52884, 29.4481, -18.7794, 1.75526, 80.3833, 15.1798, -5.33301, -21.1314, -15.1798, 5.33301, 21.1314, -113.339, -3.58766, 210.61, 13.3098, -12.2579, -48.9322, -13.3098, 12.2579, 48.9322, -115.333, -3.80044, 368.977, 0, 0, 0, 0, 0, 0, -69.8398, -11.2675, 497.785),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="MultiMesh" id="MultiMesh_cxcq7"]
transform_format = 1
instance_count = 48
mesh = ExtResource("3_lh2t4")
buffer = PackedFloat32Array(-0.882126, 0.227068, 0.412688, 27.1339, 0.0066689, 0.882059, -0.471011, -32.1428, -0.470966, -0.412811, -0.77964, -42.8751, -0.89359, 0.217034, 0.392955, 22.0828, 0.0197589, 0.893516, -0.448494, -26.3751, -0.44845, -0.393096, -0.80277, -32.959, -0.904719, 0.206219, 0.372794, 17.2822, 0.0324242, 0.905823, -0.422306, -20.9119, -0.424773, -0.370079, -0.826246, -22.7506, -0.915368, 0.194538, 0.35253, 12.7354, 0.0443884, 0.918945, -0.391739, -15.8033, -0.400164, -0.343067, -0.84986, -12.2468, -0.925306, 0.181871, 0.332792, 8.44014, 0.0552488, 0.932783, -0.356035, -11.1089, -0.375175, -0.31119, -0.873206, -1.44815, -0.934288, 0.168044, 0.314463, 4.38471, 0.0645729, 0.947123, -0.314134, -6.89946, -0.350624, -0.273349, -0.895786, 9.63905, -0.941983, 0.152773, 0.298912, 0.543442, 0.0718708, 0.961569, -0.264776, -3.26008, -0.327875, -0.228137, -0.916812, 21.0006, -0.947931, 0.135575, 0.288212, -3.13044, 0.0766946, 0.975413, -0.206362, -0.293781, -0.309103, -0.17375, -0.935066, 32.61, -0.95141, 0.115591, 0.285446, -6.71562, 0.078852, 0.98742, -0.136746, 1.87313, -0.297661, -0.107887, -0.948589, 44.4215, -0.951037, 0.0912479, 0.295333, -10.3388, 0.0788496, 0.995442, -0.0532847, 3.08438, -0.298849, -0.0277397, -0.953907, 56.3563, -0.943985, 0.0596793, 0.324575, -14.1981, 0.078968, 0.995788, 0.0470262, 3.14762, -0.320402, 0.0695974, -0.94469, 68.2762, -0.924042, 0.0159604, 0.381967, -18.5895, 0.0852826, 0.982556, 0.165797, 1.83842, -0.372658, 0.185282, -0.909182, 79.9331, -0.864831, 0.0315966, 0.501064, -24.2534, 0.104754, 0.987408, 0.118442, 0.0698806, -0.491012, 0.155004, -0.857267, 90.9627, -0.836608, 0.0414413, 0.546231, -30.849, 0.110494, 0.989406, 0.0941187, -1.24931, -0.536544, 0.139137, -0.83233, 101.538, -0.819753, 0.0483747, 0.570669, -37.8606, 0.113103, 0.990477, 0.0784794, -2.32637, -0.561438, 0.128903, -0.817422, 111.872, -0.808284, 0.0541072, 0.586299, -45.1173, 0.114543, 0.991194, 0.0664041, -3.23252, -0.577544, 0.120857, -0.807368, 122.053, -0.799798, 0.0593744, 0.597325, -52.538, 0.115422, 0.991739, 0.0559563, -3.99884, -0.589068, 0.113706, -0.800045, 132.126, -0.793477, 0.064617, 0.605158, -60.0762, 0.11596, 0.992183, 0.0460591, -4.6385, -0.597451, 0.106755, -0.794772, 142.12, -0.788396, 0.0702015, 0.611147, -67.7013, 0.116305, 0.99256, 0.0359838, -5.15379, -0.604074, 0.0994794, -0.790699, 152.056, -0.784415, 0.076545, 0.615491, -75.3908, 0.116505, 0.992875, 0.0249509, -5.53771, -0.609196, 0.0913202, -0.787749, 161.948, -0.781332, 0.0842615, 0.618397, -83.1258, 0.1166, 0.993106, 0.0119487, -5.77241, -0.613127, 0.0814841, -0.785775, 171.809, -0.779123, 0.0944641, 0.619706, -90.8869, 0.116615, 0.993166, -0.00484026, -5.82316, -0.615928, 0.0685458, -0.784819, 181.652, -0.778376, 0.109654, 0.618134, -98.6485, 0.1166, 0.992747, -0.0294113, -5.6215, -0.616876, 0.0492849, -0.785523, 191.492, -0.780133, 0.137546, 0.610269, -106.359, 0.116767, 0.990402, -0.0742135, -5.00935, -0.61462, 0.0135724, -0.78871, 201.354, -0.825657, 0.207136, 0.524943, -113.805, 0.131261, 0.975165, -0.17758, -3.4268, -0.54869, -0.0784084, -0.832406, 211.3, -0.976597, 0.169005, 0.133063, -117.487, 0.170888, 0.985287, 0.00299467, -2.56224, -0.130599, 0.0254496, -0.991103, 223.136, -0.985971, 0.166915, -0.000839118, -118.194, 0.166601, 0.984404, 0.0565856, -2.99195, 0.010271, 0.0555646, -0.998397, 235.633, -0.984141, 0.167159, -0.0593596, -117.774, 0.162552, 0.983812, 0.0754656, -3.83921, 0.0710134, 0.0645886, -0.99538, 248.131, -0.982087, 0.167156, -0.0869701, -116.836, 0.160352, 0.983802, 0.0801041, -4.82441, 0.0989513, 0.0647467, -0.992985, 260.591, -0.981174, 0.16667, -0.0975646, -115.665, 0.159565, 0.984208, 0.0766204, -5.81395, 0.108794, 0.0596231, -0.992275, 273.032, -0.981382, 0.165753, -0.0970437, -114.435, 0.15971, 0.984881, 0.067037, -6.7208, 0.106688, 0.0503516, -0.99302, 285.474, -0.982573, 0.164517, -0.08652, -113.274, 0.160474, 0.985678, 0.0517718, -7.47224, 0.0937983, 0.037043, -0.994904, 297.932, -0.984358, 0.163135, -0.0665493, -112.304, 0.161423, 0.986418, 0.0302887, -7.99465, 0.0705865, 0.0191513, -0.997323, 310.418, -0.986167, 0.161916, -0.0354846, -111.65, 0.161974, 0.986794, 0.00112559, -8.20212, 0.0351983, -0.00451434, -0.99937, 322.934, -0.986826, 0.161496, 0.00968713, -111.469, 0.161022, 0.986217, -0.038186, -7.98426, -0.0157205, -0.0359898, -0.999224, 335.463, -0.983777, 0.163268, 0.0743069, -111.968, 0.15629, 0.983452, -0.0918442, -7.18972, -0.0880725, -0.0785189, -0.992997, 347.959, -0.971236, 0.170379, 0.166306, -113.439, 0.14286, 0.97583, -0.165625, -5.60435, -0.190506, -0.136848, -0.972065, 360.299, -0.964786, 0.17813, 0.193582, -116.111, 0.137253, 0.968604, -0.207066, -3.034, -0.224389, -0.173422, -0.958984, 372.266, -0.985061, 0.172194, 0.00205901, -117.294, 0.170788, 0.978378, -0.116357, -1.02112, -0.0220504, -0.114565, -0.993205, 384.557, -0.974445, 0.17525, -0.140493, -116.384, 0.183226, 0.981999, -0.0457825, -0.0221397, 0.129941, -0.0704683, -0.989023, 397.005, -0.952921, 0.18149, -0.242889, -113.954, 0.185398, 0.98264, 0.0069587, 0.207696, 0.239935, -0.0384841, -0.970029, 409.293, -0.929301, 0.188382, -0.317645, -110.421, 0.183138, 0.981983, 0.0466938, -0.137843, 0.320718, -0.0148873, -0.947059, 421.311, -0.906248, 0.195038, -0.375055, -106.067, 0.179004, 0.980791, 0.0775676, -0.922692, 0.382979, 0.00309919, -0.923752, 433.036, -0.885062, 0.201218, -0.419721, -101.078, 0.17421, 0.979394, 0.102235, -2.05345, 0.431644, 0.0173062, -0.901877, 444.478, -0.86546, 0.20693, -0.456241, -95.5817, 0.169179, 0.977928, 0.122641, -3.46583, 0.471549, 0.0289366, -0.881364, 455.654, -0.846975, 0.212281, -0.487397, -89.6632, 0.16403, 0.976437, 0.1403, -5.11556, 0.505695, 0.0388215, -0.861836, 466.579, -0.82901, 0.217454, -0.515207, -83.3793, 0.158719, 0.974908, 0.156163, -6.97348, 0.536238, 0.0476197, -0.842719, 477.264, -0.81062, 0.222824, -0.541511, -76.7599, 0.153017, 0.973244, 0.171454, -9.02491, 0.565227, 0.0560883, -0.823024, 487.708)

[node name="Mainlevel" type="Node3D"]
script = ExtResource("1_natwr")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_lh2t4")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
light_energy = 0.0
shadow_enabled = true
sky_mode = 2

[node name="Organs" type="Node3D" parent="."]

[node name="Brain" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.33704, 0, 566.246)
inner_radius = 42.0658
outer_radius = 121.061

[node name="Heart" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.33704, -41.3247, 8.81529)
visible = false
inner_radius = 42.0658
outer_radius = 121.061

[node name="LeftLung" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 478.495, 0, 8.81529)
inner_radius = 42.0658
outer_radius = 121.061

[node name="RightLung" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -498.109, 0, 8.81529)
inner_radius = 42.0658
outer_radius = 121.061

[node name="Liver" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 211.456, 0, -367.414)
inner_radius = 27.8221
outer_radius = 86.876

[node name="Stomach" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -94.1033, 0, -508.006)
inner_radius = 27.8221
outer_radius = 86.876

[node name="Spleen" type="CSGTorus3D" parent="Organs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -293.862, 0, -682.64)
inner_radius = 27.8221
outer_radius = 86.876

[node name="HeartAtrium1" parent="Organs" instance=ExtResource("5_054ed")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.39577, 0)

[node name="BloodStreams" type="Node3D" parent="."]

[node name="River" type="Path3D" parent="BloodStreams"]
curve = SubResource("Curve3D_a8rn8")
script = ExtResource("1_mlnnp")
distance_between_mesh = 12.535

[node name="Bloodstream" parent="BloodStreams/River" instance=ExtResource("1_cxcq7")]

[node name="CSGTube2" parent="BloodStreams/River" instance=ExtResource("3_p5hok")]

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="BloodStreams/River"]
visible = false
multimesh = SubResource("MultiMesh_cxcq7")

[node name="BoatCharacter" parent="." instance=ExtResource("2_cxcq7")]
transform = Transform3D(0.909374, 0, -0.415979, 0, 1, 0, 0.415979, 0, 0.909374, 17.2296, -29.7348, -81.8421)
